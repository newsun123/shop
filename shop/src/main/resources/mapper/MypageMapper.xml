<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.demo.mapper.MypageMapper">
<select id="myinfo" resultType="com.example.demo.vo.MemberVo">
	select * from member where userid=#{userid}
</select>
<update id="mynamechg">
	update member set name=#{name} where userid=#{userid}
</update>
<update id="myphonchg">
	update member set phone=#{phone} where userid=#{userid}
</update>
<update id="myemailchg">
	update member set email=#{email} where userid=#{userid}
</update>
<select id="getPwd" resultType="String">
	select pwd from member where userid=#{userid}
</select>
<update id="chgPwd">
	update member set pwd=#{pwd} where userid=#{userid}
</update>

<select id="mygumae" resultType="HashMap">
select p.title, p.halin, p.pimg, p.price, p.btime, p.bprice, g.writeday, g.su, g.state, g.jumuncode, g.sangp from
gumae as g inner join product as p
on g.pcode=p.pcode and userid=#{userid}
order by g.writeday desc
</select>
</mapper>